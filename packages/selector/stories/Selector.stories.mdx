import { Canvas, Meta, Story, Description, ArgsTable } from "@storybook/addon-docs";
import { InputBoxArgTypes, StateManager } from "@apptane/react-ui-storybook-docs";
import { Selector, Tag } from "@apptane/react-ui";

<Meta
  title="Components/Controls/Input — Selector"
  component={Selector}
  argTypes={{
    value: {
      table: {
        category: "Interactivity",
      },
    },
    onChange: {
      table: {
        category: "Interactivity",
      },
    },
    numeric: {
      table: {
        category: "Appearance",
      },
    },
    formatValue: {
      table: {
        category: "Appearance",
      },
    },
    autoFocus: {
      table: {
        category: "Behavior",
      },
    },
    ...InputBoxArgTypes,
  }}
/>

export const Template = (args) => (
  <StateManager initialValue={args.value}>
    {({ state, setState }) => (
      <Selector {...args} value={state} onChange={setState}>
        <Selector.Item value="a">Alpha</Selector.Item>
        <Selector.Item value="b">Bravo</Selector.Item>
        <Selector.Item value="c">Charlie</Selector.Item>
      </Selector>
    )}
  </StateManager>
);

# Dropdown Selector

<Description of={Selector} />

<Canvas withSource="none">
  <Story name="Basic" args={{ value: "a", width: 300 }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Properties

<ArgsTable story="Basic" />

## Sizes

Supports standard sizes — `large` `medium` `small`.

<Canvas withSource="none">
  <Story name="Large" args={{ label: "Large", size: "large", value: "a" }}>
    {Template.bind({})}
  </Story>
  <Story name="Medium" args={{ label: "Medium", size: "medium", value: "a" }}>
    {Template.bind({})}
  </Story>
  <Story name="Small" args={{ label: "Small", size: "small", value: "a" }}>
    {Template.bind({})}
  </Story>
</Canvas>

## States

<Canvas withSource="none">
  <Story
    name="Disabled"
    args={{
      label: "Large",
      size: "large",
      disabled: true,
      value: "This input is disabled",
      width: 300,
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

<Canvas withSource="none">
  <Story
    name="Error with glyph"
    args={{
      label: "Large",
      size: "large",
      error: "Please correct the value entered",
      errorAppearance: "glyph",
      value: "This input is not correct",
      width: 300,
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

<Canvas withSource="none">
  <Story
    name="Error with hint"
    args={{
      label: "Large",
      size: "large",
      error: "Please correct the value entered",
      errorAppearance: "hint",
      value: "This input is not correct",
      width: 300,
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Customization

Left and right embedded content:

<Canvas withSource="none">
  <Story
    name="Embedded content"
    args={{
      label: "Large",
      size: "large",
      embedLeft: <Tag>Left</Tag>,
      embedRight: <Tag>Right</Tag>,
      width: 300,
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

Left and right icons:

<Canvas withSource="none">
  <Story
    name="Embedded icons"
    args={{
      label: "Large",
      size: "large",
      iconBeforeName: "i:check-circle",
      iconAfterName: "i:close",
      width: 300,
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Data

When working with numeric values on options set `numeric` property on the `Selector` to ensure proper conversion.

<Canvas withSource="none">
  <Story name="Numeric values">
    <StateManager initialValue={2}>
      {({ state, setState }) => (
        <Selector value={state} onChange={setState} numeric>
          <Selector.Item value={1}>One</Selector.Item>
          <Selector.Item value={2}>Two</Selector.Item>
          <Selector.Item value={3}>Three</Selector.Item>
        </Selector>
      )}
    </StateManager>
  </Story>
</Canvas>

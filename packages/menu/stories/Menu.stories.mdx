import { Canvas, Meta, Story, Description, ArgsTable } from "@storybook/addon-docs";
import { MarginArgTypes, PaddingArgTypes, BoxBorderArgTypes } from "@apptane/react-ui-storybook-docs";
import { Button, Dropdown, InputBox, Menu, Pane, Paragraph, Text } from "@apptane/react-ui";

<Meta
  title="Components/Controls/Menu"
  component={Menu}
  argTypes={{
    colorMode: {
      table: {
        category: "Appearance",
      },
    },
    appearance: {
      table: {
        category: "Appearance",
      },
      options: ["default", "inverted"],
      control: {
        type: "inline-radio",
      },
    },
    background: {
      table: {
        category: "Appearance",
      },
    },
    popup: {
      table: {
        category: "Appearance",
      },
    },
    elevation: {
      table: {
        category: "Appearance",
      },
      control: {
        type: "inline-radio",
      },
    },
    width: {
      table: {
        category: "Dimensions",
      },
    },
    minWidth: {
      table: {
        category: "Dimensions",
      },
    },
    itemHeight: {
      table: {
        category: "Dimensions",
      },
    },
    maxHeight: {
      table: {
        category: "Dimensions",
      },
    },
    onEsc: {
      table: {
        category: "Events",
      },
    },
    ...BoxBorderArgTypes,
    ...PaddingArgTypes,
  }}
  parameters={{
    actions: { argTypesRegex: "^on.*" },
  }}
/>

export const Template = (args) => (
  <Menu {...args}>
    <Menu.Item iconName="i:empty-circle">Create</Menu.Item>
    <Menu.Item>Open</Menu.Item>
    <Menu.Item iconName="i:close">Close</Menu.Item>
    <Menu.Item>Update</Menu.Item>
    <Menu.Item iconName="i:check-circle" disabled>
      Verify
    </Menu.Item>
    <Menu.Item iconName="i:bullet" iconColor="error" intent="danger" badge={36}>
      Action
    </Menu.Item>
    <Menu.Divider />
    <Menu.Item iconName="i:close-circle" intent="danger">
      Delete
    </Menu.Item>
  </Menu>
);

# Menu

<Description of={Menu} />

<Canvas withSource="none">
  <Story
    name="Basic"
    args={{
      width: 200,
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

## Properties

<ArgsTable story="Basic" />

## Customization

<Canvas>
  <Story name="Custom Content">
    <Menu popup itemHeight={60}>
      <Menu.Item checked iconName="i:check" iconColor="accent">
        <Pane>
          <Text size="medium" weight="bold">
            Reader
          </Text>
          <Paragraph size="small">Readers are only allowed to read</Paragraph>
        </Pane>
      </Menu.Item>
      <Menu.Item>
        <Pane>
          <Text size="medium" weight="bold">
            Writer
          </Text>
          <Paragraph size="small">Writers can both read and write</Paragraph>
        </Pane>
      </Menu.Item>
    </Menu>
  </Story>
</Canvas>

<Canvas>
  <Story name="Dropdown">
    <Dropdown
      component={({ close }) => (
        <Menu popup width={100} onEsc={close}>
          <Menu.Item>Create</Menu.Item>
          <Menu.Item>Update</Menu.Item>
          <Menu.Item>Delete</Menu.Item>
          <Menu.Item>Rename</Menu.Item>
          <Menu.Divider />
          <Menu.Item>Exit...</Menu.Item>
        </Menu>
      )}>
      {({ visible, disabled }) => (
        <Button checked={visible} disabled={disabled}>
          Dropdown
        </Button>
      )}
    </Dropdown>
  </Story>
</Canvas>

<Canvas>
  <Story name="Selector">
    <Dropdown
      offset={2}
      component={({ placement, close }) => (
        <Menu popup width={200} onEsc={close} border elevation={0}>
          <Menu.Item>Create</Menu.Item>
          <Menu.Item>Update</Menu.Item>
          <Menu.Item>Delete</Menu.Item>
          <Menu.Item>Rename</Menu.Item>
          <Menu.Divider />
          <Menu.Item>Exit...</Menu.Item>
        </Menu>
      )}>
      {({ visible, disabled }) => (
        <InputBox width={200} focused={visible} disabled={disabled}>
          <Text category="control">Dropdown</Text>
        </InputBox>
      )}
    </Dropdown>
  </Story>
</Canvas>
